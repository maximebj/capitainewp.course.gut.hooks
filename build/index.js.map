{"version":3,"file":"index.js","mappings":"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","sources":["webpack:///./src/hooks/index.js","webpack:///./src/variants/index.js","webpack:///external window [\"wp\",\"blockEditor\"]","webpack:///external window [\"wp\",\"blocks\"]","webpack:///external window [\"wp\",\"components\"]","webpack:///external window [\"wp\",\"compose\"]","webpack:///external window [\"wp\",\"hooks\"]","webpack:///external window [\"wp\",\"i18n\"]","webpack:///external window \"ReactJSXRuntime\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/index.js"],"sourcesContent":["import { InspectorControls } from \"@wordpress/block-editor\";\nimport { PanelBody, SelectControl } from \"@wordpress/components\";\nimport { createHigherOrderComponent } from \"@wordpress/compose\";\nimport { addFilter } from \"@wordpress/hooks\";\nimport { __ } from \"@wordpress/i18n\";\n\n// Le bloc que l'on souhaite modifier\nconst allowedBlocks = [\"core/button\"];\n\n// Ajouter des attributs au bloc\nfunction addAttributes(settings, name) {\n  // On vérifie qu'on est sur le bon bloc\n  if (!allowedBlocks.includes(name)) {\n    return settings;\n  }\n\n  // On ajoute l'attribut à l'objet des attributs\n  settings.attributes = {\n    ...settings.attributes,\n    size: {\n      type: \"string\",\n      default: \"medium\",\n    },\n  };\n\n  // Et on retourne l'objet modifié\n  return settings;\n}\n\naddFilter(\n  \"blocks.registerBlockType\",\n  \"capitainewp/addAttributes\",\n  addAttributes\n);\n\n// Ajouter des contrôles dans l'inspecteur du bloc\nconst withAdvancedControls = createHigherOrderComponent(BlockEdit => {\n  return props => {\n    const { name, attributes, setAttributes, isSelected } = props;\n    const { size } = attributes;\n\n    // Définir la classe CSS en fonction de la taille\n    props.className += ` has-size-${size}`;\n\n    return (\n      <>\n        <BlockEdit {...props} />\n        {isSelected && allowedBlocks.includes(name) && (\n          <InspectorControls>\n            <PanelBody title={__(\"Button Size\", \"capitainewp\")}>\n              <SelectControl\n                label={__(\"Size\", \"capitainewp\")}\n                value={size}\n                options={[\n                  {\n                    label: __(\"Small\", \"capitainewp\"),\n                    value: \"small\",\n                  },\n                  {\n                    label: __(\"Medium\", \"capitainewp\"),\n                    value: \"medium\",\n                  },\n                  {\n                    label: __(\"Large\", \"capitainewp\"),\n                    value: \"large\",\n                  },\n                ]}\n                onChange={size => {\n                  setAttributes({ size });\n                }}\n              />\n            </PanelBody>\n          </InspectorControls>\n        )}\n      </>\n    );\n  };\n}, \"withAdvancedControls\");\n\naddFilter(\"editor.BlockEdit\", \"capitainewp/addControls\", withAdvancedControls);\n\n// Ajouter des classes au bloc enregistré en base\nfunction applyExtraClass(extraProps, blockType, attributes) {\n  // On vérifie qu'on est sur le bon bloc\n  if (!allowedBlocks.includes(blockType.name)) {\n    return extraProps;\n  }\n\n  // Récupérer la taille depuis les attributs\n  const { size } = attributes;\n\n  // Appliquer la classe CSS en fonction de la taille\n  extraProps.className += ` has-size-${size}`;\n\n  // Renvoyer les propriétés modifiées\n  return extraProps;\n}\n\naddFilter(\n  \"blocks.getSaveContent.extraProps\",\n  \"capitainewp/applyExtraClass\",\n  applyExtraClass\n);\n","import { registerBlockVariation } from \"@wordpress/blocks\";\n\nconst NAMESPACE = \"capitainewp/games-list\";\n\nregisterBlockVariation(\"core/query\", {\n  name: NAMESPACE,\n  title: \"Games List\",\n  description: \"Displays a list of games\",\n  category: \"capitainewp\",\n  isActive: ({ namespace, query }) => {\n    return namespace === NAMESPACE && query.postType === \"games\";\n  },\n  icon: \"games\",\n  attributes: {\n    namespace: NAMESPACE,\n    query: {\n      perPage: 3,\n      pages: 0,\n      offset: 0,\n      postType: \"games\",\n      order: \"desc\",\n      orderBy: \"date\",\n      author: \"\",\n      search: \"\",\n      exclude: [],\n      sticky: \"\",\n      inherit: false,\n    },\n  },\n  scope: [\"inserter\", \"transform\", \"block\"],\n});\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from \"./hooks\";\nexport * from \"./variants\";\n"],"names":["InspectorControls","PanelBody","SelectControl","createHigherOrderComponent","addFilter","__","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","allowedBlocks","addAttributes","settings","name","includes","attributes","size","type","default","withAdvancedControls","BlockEdit","props","setAttributes","isSelected","className","children","title","label","value","options","onChange","applyExtraClass","extraProps","blockType","registerBlockVariation","NAMESPACE","description","category","isActive","namespace","query","postType","icon","perPage","pages","offset","order","orderBy","author","search","exclude","sticky","inherit","scope"],"sourceRoot":""}